"use strict";function closeM(){$(".menu-control").animate({opacity:"0"},400),setTimeout(function(){menuControl.style.display="none"},410)}function showBorder(e){for(var t=e.target;t!=this&&"LI"!=t.tagName;)t=t.parentNode;switch(t){case liMenu[0]:spanOne.style.width="85px",spanTwo.removeAttribute("style",!0),spanThree.removeAttribute("style",!0);break;case liMenu[1]:spanTwo.style.width="100px",spanOne.removeAttribute("style",!0),spanThree.removeAttribute("style",!0);break;case liMenu[2]:spanThree.style.width="106px",spanOne.removeAttribute("style",!0),spanTwo.removeAttribute("style",!0)}}function hideBorder(){spanOne.removeAttribute("style",!0),spanTwo.removeAttribute("style",!0),spanThree.removeAttribute("style",!0)}function pressButton(e){27===e.keyCode&&closeM()}function handlerOfM(){closeM(),containerMenu.removeEventListener("mouseover",showBorder),containerMenu.removeEventListener("mouseout",hideBorder),document.removeEventListener("keydown",pressButton)}function marginTop(){var e;return self.innerHeight?e=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?e=document.documentElement.clientHeight:document.body&&(e=document.body.clientHeight),mainSection.style.marginTop=e+"px"}function moveBG1(){var e=document.querySelector(".item-blog-1"),t=window.pageYOffset||document.documentElement.scrollTop;e.style.backgroundPosition="0px "+(100-t/10)+"px"}function moveBG2(){var e=document.querySelector(".item-blog-2"),t=window.pageYOffset||document.documentElement.scrollTop;e.style.backgroundPosition="100% "+(150-t/10)+"px"}function moveBG3(){var e=document.querySelector(".item-blog-3"),t=window.pageYOffset||document.documentElement.scrollTop;e.style.backgroundPosition="0% "+(200-t/10)+"px"}function moveBG4(){var e=document.querySelector(".item-blog-4"),t=window.pageYOffset||document.documentElement.scrollTop;e.style.backgroundPosition="100% "+(270-t/10)+"px"}function scrollBG(){window.innerWidth<480?(window.removeEventListener("scroll",moveBG1),window.removeEventListener("scroll",moveBG2),window.removeEventListener("scroll",moveBG3),window.removeEventListener("scroll",moveBG4)):window.innerWidth>480&&(window.addEventListener("scroll",moveBG1),window.addEventListener("scroll",moveBG2),window.addEventListener("scroll",moveBG3),window.addEventListener("scroll",moveBG4))}function doMini(){miniPhotos[0].style.backgroundImage="url('"+value[number-1]+"')",miniPhotos[1].style.backgroundImage="url('"+value[number]+"')",miniPhotos[1].style.opacity="1",miniPhotos[2].style.backgroundImage="url('"+value[number+1]+"')","undefined"==typeof value[number-1]?(miniPhotos[0].style.opacity="1",miniPhotos[1].style.opacity="0.4",miniPhotos[0].style.backgroundImage="url('"+value[number]+"')",miniPhotos[1].style.backgroundImage="url('"+value[number+1]+"')",miniPhotos[2].style.backgroundImage="url('"+value[number+2]+"')",left.style.opacity="0",left.style.cursor="auto",left.removeEventListener("click",moveLeft)):(left.style.opacity="",left.style.cursor="",left.addEventListener("click",moveLeft)),"undefined"==typeof value[number+1]?(miniPhotos[2].style.opacity="1",miniPhotos[1].style.opacity="0.4",miniPhotos[0].style.backgroundImage="url('"+value[number-2]+"')",miniPhotos[1].style.backgroundImage="url('"+value[number-1]+"')",miniPhotos[2].style.backgroundImage="url('"+value[number]+"')",right.style.opacity="0",right.style.cursor="auto",right.removeEventListener("click",moveRight)):(miniPhotos[2].style.display="",right.style.opacity="",right.style.cursor="",right.addEventListener("click",moveRight))}function clearOpacity(){for(var e=0;e<miniPhotos.length;e++)miniPhotos[e].style.opacity="0.4"}function detectEdge(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0?parseInt(e.substring(t+5,e.indexOf(".",t)),10):!1}function getStyle(e){return window.getComputedStyle?getComputedStyle(e,""):e.currentStyle}function miniPhoto(e){var t=e.target;if("SPAN"===t.tagName){var o=getStyle(t).backgroundImage;photo=o.slice(5,o.length-2),detectEdge()&&(photo=o.slice(4,o.length-1)),-1!==value.indexOf(photo.slice(window.location.href.length,photo.length))&&(value[value.indexOf(photo.slice(window.location.href.length,photo.length))]===value[0]?(left.style.opacity="0",left.style.cursor="auto",left.removeEventListener("click",moveLeft)):(left.style.opacity="",left.style.cursor="",left.addEventListener("click",moveLeft)),value[value.indexOf(photo.slice(window.location.href.length,photo.length))]===value[value.length-1]?(right.style.opacity="0",right.style.cursor="auto",right.removeEventListener("click",moveRight)):(right.style.opacity="",right.style.cursor="",right.addEventListener("click",moveRight)),picture.src=value[value.indexOf(photo.slice(window.location.href.length,photo.length))]),clearOpacity(),t.style.opacity="1",number=value.indexOf(photo.slice(window.location.href.length,photo.length)),textPhoto.innerHTML="",textPhoto.appendChild(text[number]),calcText(),currentNumber.textContent=""+(number+1)+" "}}function calcMargin(){var e;self.innerHeight?e=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?e=document.documentElement.clientHeight:document.body&&(e=document.body.clientHeight);var t=picture.height;t>730&&(t=730);var o=(e-t)/2;showBlock.style.marginTop=o+"px",showBlock.style.marginBottom=o+"px"}function calcText(){return textPhoto.style.marginTop=-textPhoto.offsetHeight/2+"px"}function moveLeft(){number-1>=0&&(number--,picture.src=value[number],picture.onload=function(){picture.classList.add("filter"),setTimeout(function(){picture.classList.remove("filter")},500),$(".md-preloader").fadeIn("slow").fadeOut("slow")},textPhoto.innerHTML="",textPhoto.appendChild(text[number]),currentNumber.textContent=""+(number+1)+" ",clearOpacity(),doMini(),calcText())}function moveRight(){number<value.length-1&&(number++,picture.src=value[number],picture.onload=function(){picture.classList.add("filter"),setTimeout(function(){picture.classList.remove("filter")},500),$(".md-preloader").fadeIn("slow").fadeOut("slow")},textPhoto.innerHTML="",textPhoto.appendChild(text[number]),currentNumber.textContent=""+(number+1)+" ",clearOpacity(),doMini(),calcText())}function showButtons(){buttons.style.display="block",$(".rrssb-buttons").animate({opacity:"1"},400)}function hideButtons(){$(".rrssb-buttons").animate({opacity:"0"},400),setTimeout(function(){buttons.style.display="none"},410)}function handlerOn(){picture.addEventListener("load",calcMargin),left.addEventListener("click",moveLeft),right.addEventListener("click",moveRight),divWrapper.addEventListener("click",miniPhoto),preview.addEventListener("mouseenter",showButtons),preview.addEventListener("mouseleave",hideButtons),document.addEventListener("keydown",pressButtons)}function handlerOf(){$(".show-image").animate({opacity:"0"},400),setTimeout(function(){show.classList.add("invisible"),preview.removeChild(picture),textPhoto.removeChild(text[number]),picture.removeEventListener("load",calcMargin),divWrapper.removeEventListener("click",miniPhoto),left.removeEventListener("click",moveLeft),right.removeEventListener("click",moveRight),preview.removeEventListener("mouseenter",showButtons),preview.removeEventListener("mouseleave",hideButtons),document.removeEventListener("keydown",pressButtons),clearOpacity()},410)}function pressButtons(e){39===e.keyCode&&moveRight(),37===e.keyCode&&moveLeft(),27===e.keyCode&&handlerOf()}function showPhoto(e){var t=e.target;"IMG"===t.tagName&&(show.classList.remove("invisible"),$(".show-image").animate({opacity:"1"},400),picture=new Image,picture.onload=function(){picture.classList.add("filter"),setTimeout(function(){picture.classList.remove("filter")},500),$(".md-preloader").fadeIn("slow").fadeOut("slow")},window.innerWidth<400?(picture.style.maxWidth="230px",picture.style.maxHeight="200px"):window.innerWidth<480?(picture.style.maxWidth="300px",picture.style.maxHeight="250px"):window.innerWidth<768?(picture.style.maxWidth="440px",picture.style.maxHeight="350px"):window.innerWidth<1150?(picture.style.maxWidth="660px",picture.style.maxHeight="600px"):window.innerWidth>1150&&(picture.style.maxWidth="910px",picture.style.maxHeight="730px"),photo=t.src.slice(window.location.href.length,t.src.length),-1!==value.indexOf(photo)&&(picture.src=value[value.indexOf(photo)]),preview.appendChild(picture),number=value.indexOf(photo),textPhoto.appendChild(text[number]),currentNumber.textContent=""+(number+1)+" ",totalNumber.textContent=""+value.length+" ",doMini(),calcText(),handlerOn())}var menu=document.querySelector(".menu"),lineMenu=menu.querySelectorAll(".line-menu"),menuControl=document.querySelector(".menu-control"),closeMenu=document.querySelector(".close-gallery"),containerMenu=document.querySelector(".container-menu"),liMenu=containerMenu.querySelectorAll(".item-control"),spanOne=document.querySelector(".item-one"),spanTwo=document.querySelector(".item-two"),spanThree=document.querySelector(".item-three"),body=document.querySelector("body"),title=body.querySelectorAll("h4");if($(".preloader").delay(2e3).fadeOut("slow"),"Google Inc."!=navigator.vendor&&"Opera"!=navigator.appName){for(i=0;i<title.length;i++)title[i].style.letterSpacing="1px";title[3].style.letterSpacing="0px",title[5].style.letterSpacing="0px"}menu.addEventListener("mouseenter",function(){menu.style.marginTop="20px",lineMenu[0].classList.remove("first-line"),lineMenu[1].classList.remove("second-line"),lineMenu[2].classList.remove("third-line")}),menu.addEventListener("mouseleave",function(){menu.removeAttribute("style",!0),lineMenu[0].classList.add("first-line"),lineMenu[1].classList.add("second-line"),lineMenu[2].classList.add("third-line")}),menu.addEventListener("click",function(){menuControl.style.display="block",$(".menu-control").animate({opacity:"1"},400),containerMenu.addEventListener("mouseover",showBorder),containerMenu.addEventListener("mouseout",hideBorder),document.addEventListener("keydown",pressButton)}),closeMenu.addEventListener("click",handlerOfM);var mainSection=document.querySelector(".main-section");window.addEventListener("load",marginTop),window.addEventListener("resize",marginTop);var ok=!0;window.addEventListener("load",scrollBG),window.addEventListener("resize",scrollBG),$("body").on("click",'[href="#contacts"]',function(e){$("html,body").stop().animate({scrollTop:$('[name="contacts"]').offset().top},1e3),e.preventDefault(),handlerOfM()}),$("body").on("click",'[href="#main"]',function(e){$("html,body").stop().animate({scrollTop:$('[name="main"]').offset().top},1e3),e.preventDefault(),handlerOfM()}),$("body").on("click",'[href="#depiction"]',function(e){$("html,body").stop().animate({scrollTop:$('[name="depiction"]').offset().top},1e3),e.preventDefault(),handlerOfM()});for(var wrapperNode=document.querySelector(".wrapper"),img=wrapperNode.querySelectorAll("img"),show=document.querySelector(".show-image"),close=show.querySelector(".img-close"),preview=show.querySelector(".show-image-preview"),imgPreview=preview.querySelectorAll("img"),left=show.querySelector(".img-control-left"),right=show.querySelector(".img-control-right"),showBlock=show.querySelector(".show-block"),currentNumber=document.querySelector(".preview-number-current"),totalNumber=document.querySelector(".preview-number-total"),divWrapper=document.querySelector(".mini-wrapper"),miniPhotos=divWrapper.querySelectorAll(".mini-photo"),textPhoto=document.querySelector(".text-photo"),textContainer=document.querySelector(".text-container"),textImage=textContainer.querySelectorAll(".text-image"),picture,photo,number,photoData=[].slice.call(img,0),textData=[].slice.call(textImage,0),value=[],text=[],i=0;i<img.length;i++)value.push(photoData[i].src.slice(window.location.href.length,photoData[i].src.length)),text.push(textData[i]);var buttons=document.querySelector(".rrssb-buttons");wrapperNode.addEventListener("click",showPhoto),close.addEventListener("click",handlerOf);var container=document.querySelector(".bottom-block"),inputOne=document.getElementById("radio-all-controls"),inputTwo=document.getElementById("radio-minimal-black");inputOne.onclick=function(){preview.appendChild(container)},inputTwo.onclick=function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),container.remove()},window.innerWidth<768&&("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),container.remove());